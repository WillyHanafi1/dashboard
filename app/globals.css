@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 94.1%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Custom Tremor Chart Styling for Dark Theme */
@layer components {
  .tremor-chart-container {
    @apply bg-transparent;
  }
  
  /* Force chart colors to override dark theme */
  .tremor-AreaChart .recharts-area,
  .tremor-BarChart .recharts-bar,
  .tremor-DonutChart .recharts-pie-sector {
    opacity: 1 !important;
    fill-opacity: 0.9 !important;
  }
  
  /* Super specific selectors to force colors */
  .tremor-AreaChart .recharts-area {
    fill: #10b981 !important;
  }
  
  .tremor-AreaChart .recharts-area:nth-of-type(2) {
    fill: #f59e0b !important;
  }
  
  .tremor-BarChart .recharts-bar {
    fill: #06b6d4 !important;
  }
  
  .tremor-DonutChart .recharts-pie-sector:first-child {
    fill: #22c55e !important;
  }
  
  .tremor-DonutChart .recharts-pie-sector:last-child {
    fill: #eab308 !important;
  }
  
  /* Override any potential dark theme interference */
  .dark .tremor-AreaChart .recharts-area,
  .dark .tremor-BarChart .recharts-bar,
  .dark .tremor-DonutChart .recharts-pie-sector {
    fill: inherit !important;
  }
  
  .dark .tremor-AreaChart .recharts-area:first-of-type {
    fill: #10b981 !important;
  }
  
  .dark .tremor-AreaChart .recharts-area:last-of-type {
    fill: #f59e0b !important;
  }
  
  .dark .tremor-BarChart .recharts-bar {
    fill: #06b6d4 !important;
  }
  
  .dark .tremor-DonutChart .recharts-pie-sector:first-child {
    fill: #22c55e !important;
  }
  
  .dark .tremor-DonutChart .recharts-pie-sector:last-child {
    fill: #eab308 !important;
  }
  
  /* Tremor Area Chart dark theme fixes with bright colors */
  .tremor-AreaChart text {
    @apply fill-foreground font-medium;
  }
  
  .tremor-AreaChart .recharts-cartesian-axis-line,
  .tremor-AreaChart .recharts-cartesian-axis-tick-line {
    @apply stroke-border opacity-80;
  }
  
  .tremor-AreaChart .recharts-cartesian-grid-horizontal line,
  .tremor-AreaChart .recharts-cartesian-grid-vertical line {
    @apply stroke-border/40;
  }
  
  /* Tremor Bar Chart dark theme fixes with enhanced visibility */
  .tremor-BarChart text {
    @apply fill-foreground font-medium;
  }
  
  .tremor-BarChart .recharts-cartesian-axis-line,
  .tremor-BarChart .recharts-cartesian-axis-tick-line {
    @apply stroke-border opacity-80;
  }
  
  .tremor-BarChart .recharts-cartesian-grid-horizontal line,
  .tremor-BarChart .recharts-cartesian-grid-vertical line {
    @apply stroke-border/40;
  }
  
  /* Tremor Donut Chart dark theme fixes */
  .tremor-DonutChart text {
    @apply fill-foreground font-medium;
  }
  
  /* Legend styling with better contrast */
  .tremor-Legend text {
    @apply fill-foreground font-medium;
  }
  
  /* Enhanced tooltip styling */
  .tremor-Tooltip {
    @apply bg-background border-border text-foreground shadow-xl;
  }
  
  /* Chart responsive text sizing with better visibility */
  .tremor-AreaChart text,
  .tremor-BarChart text,
  .tremor-DonutChart text {
    @apply text-xs font-medium;
  }
  
  /* Enhanced tooltip wrapper */
  .recharts-default-tooltip {
    @apply bg-background border border-border rounded-lg shadow-xl !important;
    filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));
  }
  
  .recharts-tooltip-wrapper {
    @apply text-foreground;
  }
  
  /* Grid lines enhancement with better visibility */
  .recharts-cartesian-grid line {
    @apply stroke-border/30;
  }
  
  /* Axis labels enhancement */
  .recharts-text.recharts-cartesian-axis-tick-value {
    @apply fill-muted-foreground font-medium;
  }
  
  /* Enhanced chart data visibility */
  .recharts-area-area,
  .recharts-bar-rectangle,
  .recharts-pie-sector {
    filter: brightness(1.1) saturate(1.2);
  }
  
  /* Chart legend improvements */
  .recharts-legend-wrapper {
    @apply text-foreground;
  }
  
  .recharts-legend-item-text {
    @apply fill-foreground !important;
  }
  
  /* Light theme specific chart styling */
  .light .tremor-AreaChart .recharts-area:first-of-type {
    fill: #059669 !important; /* Darker emerald for light theme */
  }
  
  .light .tremor-AreaChart .recharts-area:last-of-type {
    fill: #d97706 !important; /* Darker amber for light theme */
  }
  
  .light .tremor-BarChart .recharts-bar {
    fill: #0891b2 !important; /* Darker cyan for light theme */
  }
  
  .light .tremor-DonutChart .recharts-pie-sector:first-child {
    fill: #16a34a !important; /* Darker green for light theme */
  }
  
  .light .tremor-DonutChart .recharts-pie-sector:last-child {
    fill: #ca8a04 !important; /* Darker yellow for light theme */
  }
  
  /* Light theme grid and axis styling */
  .light .recharts-cartesian-grid line {
    @apply stroke-border/50;
  }
  
  .light .tremor-AreaChart .recharts-cartesian-axis-line,
  .light .tremor-AreaChart .recharts-cartesian-axis-tick-line,
  .light .tremor-BarChart .recharts-cartesian-axis-line,
  .light .tremor-BarChart .recharts-cartesian-axis-tick-line {
    @apply stroke-border/60;
  }
}

/* Additional responsive chart improvements */
@media (max-width: 640px) {
  .tremor-AreaChart text,
  .tremor-BarChart text {
    @apply text-[10px];
  }
}